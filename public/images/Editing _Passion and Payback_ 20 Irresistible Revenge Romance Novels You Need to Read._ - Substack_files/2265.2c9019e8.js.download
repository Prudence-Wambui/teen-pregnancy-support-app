/*! For license information please see 2265.2c9019e8.js.LICENSE.txt */
(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["2265"],{36808:function(e){var t,n;t=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,o,i){if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},r.defaults,i)).expires){var a,u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*i.expires),i.expires=u}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var s in i){if(i[s])l+="; "+s,!0!==i[s]&&(l+="="+i[s])}return document.cookie=t+"="+o+l}t||(a={});for(var f=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,d=0;d<f.length;d++){var p=f[d].split("="),h=p.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var v=p[0].replace(c,decodeURIComponent);if(h=n.read?n.read(h,v):n(h,v)||h.replace(c,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===v){a=h;break}t||(a[v]=h)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})},n=!1,"function"==typeof define&&define.amd&&define(t),e.exports=t()},28175:function(e,t,n){e.exports=n(87100).default},54290:function(e,t,n){var r=n(6557);e.exports=function(e){return"function"==typeof e?e:r}},27361:function(e,t,n){var r=n(97786);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},78718:function(e,t,n){var r=n(25970),o=n(99021)(function(e,t){return null==e?{}:r(e,t)});e.exports=o},98913:function(e,t,n){var r=n(22545),o=n(54290),i=n(40554),a=Math.min;e.exports=function(e,t){if((e=i(e))<1||e>0x1fffffffffffff)return[];var n=0xffffffff,u=a(e,0xffffffff);t=o(t),e-=0xffffffff;for(var l=r(u,t);++n<e;)t(n);return l}},77199:function(e,t,n){"use strict";n.d(t,{Z:()=>r});let r=(0,n(36150).Z)("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]])},72910:function(e,t,n){"use strict";n.d(t,{Z:()=>r});let r=(0,n(36150).Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},894:function(e,t,n){"use strict";n.d(t,{Z:()=>r});let r=(0,n(36150).Z)("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]])},52103:function(e,t,n){"use strict";n.d(t,{Z:()=>r});let r=(0,n(36150).Z)("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]])},20042:function(e,t,n){"use strict";n.r(t),n.d(t,{Link:()=>M,Route:()=>E,Router:()=>C,default:()=>x,exec:()=>a,getCurrentUrl:()=>v,route:()=>g,subscribers:()=>p});var r=n(6400),o={};function i(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t,n){var r,i=/(?:\?([^#]*))?(#.*)?$/,a=e.match(i),u={};if(a&&a[1])for(var l=a[1].split("&"),f=0;f<l.length;f++){var c=l[f].split("=");u[decodeURIComponent(c[0])]=decodeURIComponent(c.slice(1).join("="))}e=s(e.replace(i,"")),t=s(t||"");for(var d=Math.max(e.length,t.length),p=0;p<d;p++)if(t[p]&&":"===t[p].charAt(0)){var h=t[p].replace(/(^:|[+*?]+$)/g,""),v=(t[p].match(/[+*?]+$/)||o)[0]||"",g=~v.indexOf("+"),m=~v.indexOf("*"),y=e[p]||"";if(!y&&!m&&(0>v.indexOf("?")||g)){r=!1;break}if(u[h]=decodeURIComponent(y),g||m){u[h]=e.slice(p).map(decodeURIComponent).join("/");break}}else if(t[p]!==e[p]){r=!1;break}return(!0===n.default||!1!==r)&&u}function u(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function l(e,t){var n;return e.index=t,e.rank=(n=e).props.default?0:s(n.props.path).map(f).join(""),e.props}function s(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function f(e){return":"==e.charAt(0)?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var c=null,d=[],p=[],h={};function v(){var e;return""+((e=c&&c.location?c.location:c&&c.getCurrentLocation?c.getCurrentLocation():"undefined"!=typeof location?location:h).pathname||"")+(e.search||"")}function g(e,t){if(void 0===t&&(t=!1),"string"!=typeof e&&e.url&&(t=e.replace,e=e.url),function(e){for(var t=d.length;t--;)if(d[t].canRoute(e))return!0;return!1}(e)){var n,r;n=e,r=t?"replace":"push",c&&c[r]?c[r](n):"undefined"!=typeof history&&history[r+"State"]&&history[r+"State"](null,null,n)}return m(e)}function m(e){for(var t=!1,n=0;n<d.length;n++)!0===d[n].routeTo(e)&&(t=!0);for(var r=p.length;r--;)p[r](e);return t}function y(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),n=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return g(t)}}function b(e){if(!e.ctrlKey&&!e.metaKey&&!e.altKey&&!e.shiftKey&&0===e.button)return y(e.currentTarget||e.target||this),w(e)}function w(e){return e&&(e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault()),!1}function k(e){if(!e.ctrlKey&&!e.metaKey&&!e.altKey&&!e.shiftKey&&0===e.button){var t=e.target;do if("A"===String(t.nodeName).toUpperCase()&&t.getAttribute("href")){if(t.hasAttribute("native"))return;if(y(t))return w(e)}while(t=t.parentNode)}}var _=!1,C=function(e){function t(t){e.call(this,t),t.history&&(c=t.history),this.state={url:t.url||v()},_||("function"==typeof addEventListener&&(c||addEventListener("popstate",function(){m(v())}),addEventListener("click",k)),_=!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.shouldComponentUpdate=function(e){return!0!==e.static||e.url!==this.props.url||e.onChange!==this.props.onChange},t.prototype.canRoute=function(e){var t=(0,r.toChildArray)(this.props.children);return this.getMatchingChildren(t,e,!1).length>0},t.prototype.routeTo=function(e){this.setState({url:e});var t=this.canRoute(e);return this.updating||this.forceUpdate(),t},t.prototype.componentWillMount=function(){d.push(this),this.updating=!0},t.prototype.componentDidMount=function(){var e=this;c&&(this.unlisten=c.listen(function(t){e.routeTo(""+(t.pathname||"")+(t.search||""))})),this.updating=!1},t.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),d.splice(d.indexOf(this),1)},t.prototype.componentWillUpdate=function(){this.updating=!0},t.prototype.componentDidUpdate=function(){this.updating=!1},t.prototype.getMatchingChildren=function(e,t,n){return e.filter(l).sort(u).map(function(e){var o=a(t,e.props.path,e.props);if(o){if(!1!==n){var u={url:t,matches:o};return i(u,o),delete u.ref,delete u.key,(0,r.cloneElement)(e,u)}return e}}).filter(Boolean)},t.prototype.render=function(e,t){var n=e.children,o=e.onChange,i=t.url,a=this.getMatchingChildren((0,r.toChildArray)(n),i,!0),u=a[0]||null,l=this.previousUrl;return i!==l&&(this.previousUrl=i,"function"==typeof o&&o({router:this,url:i,previous:l,active:a,current:u})),u},t}(r.Component),M=function(e){return(0,r.createElement)("a",i({onClick:b},e))},E=function(e){return(0,r.createElement)(e.component,e)};C.subscribers=p,C.getCurrentUrl=v,C.route=g,C.Router=C,C.Route=E,C.Link=M,C.exec=a;let x=C},99961:function(e,t,n){"use strict";n.d(t,{U:()=>o,Z:()=>o});var r=n(88897);let o=r.NB.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",(0,r.P1)(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{let{selection:e,storedMarks:o}=n;if(e.$from.parent.type.spec.isolating)return!1;let{keepMarks:i}=this.options,{splittableMarks:a}=r.extensionManager,u=o||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command(({tr:e,dispatch:t})=>{if(t&&u&&i){let t=u.filter(e=>a.includes(e.type.name));e.ensureMarks(t)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}})},84220:function(e,t,n){"use strict";let r;n.d(t,{K7:()=>w,cn:()=>i});let o=0;function i(e,t){let n=`atom${++o}`,r={toString:()=>n};return"function"==typeof e?r.read=e:(r.init=e,r.read=function(e){return e(this)},r.write=function(e,t,n){return t(this,"function"==typeof n?n(e(this)):n)}),t&&(r.write=t),r}let a=e=>"init"in e,u=e=>!!e.write,l=new WeakMap,s=(e,t)=>{l.set(e,t),e.catch(()=>{}).finally(()=>l.delete(e))},f=(e,t)=>{let n=l.get(e);n&&(l.delete(e),n(t))},c=(e,t)=>{e.status="fulfilled",e.value=t},d=(e,t)=>{e.status="rejected",e.reason=t},p=e=>"function"==typeof(null==e?void 0:e.then),h=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),v=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),g=e=>!!e&&"v"in e&&e.v instanceof Promise,m=(e,t)=>"v"in e&&"v"in t&&e.v.orig&&e.v.orig===t.v.orig,y=e=>{if("e"in e)throw e.e;return e.v},b=()=>{let e,t;let n=new WeakMap,r=new WeakMap,o=new Map;e=new Set,t=new Set;let i=e=>n.get(e),l=(e,t)=>{Object.freeze(t);let r=n.get(e);if(n.set(e,t),o.has(e)||o.set(e,r),g(r)){let e="v"in t?t.v instanceof Promise?t.v:Promise.resolve(t.v):Promise.reject(t.e);r.v!==e&&f(r.v,e)}},b=(e,t,n)=>{let r=new Map,o=!1;n.forEach((n,i)=>{n||i!==e||(n=t),n?(r.set(i,n),t.d.get(i)!==n&&(o=!0)):console.warn("[Bug] atom state not found")}),(o||t.d.size!==r.size)&&(t.d=r)},w=(e,t,n)=>{let r=i(e),o={d:(null==r?void 0:r.d)||new Map,v:t};if(n&&b(e,o,n),h(r,o)&&r.d===o.d)return r;if(g(r)&&g(o)&&m(r,o)){if(r.d===o.d)return r;o.v=r.v}return l(e,o),o},k=(e,t,n,o)=>{if(p(t)){let a;let u=()=>{let t=i(e);if(!g(t)||t.v!==l)return;let o=w(e,l,n);r.has(e)&&t.d!==o.d&&R(e,o,t.d)},l=new Promise((e,n)=>{let r=!1;t.then(t=>{r||(r=!0,c(l,t),e(t),u())},e=>{r||(r=!0,d(l,e),n(e),u())}),a=t=>{r||(r=!0,t.then(e=>c(l,e),e=>d(l,e)),e(t))}});return l.orig=t,l.status="pending",s(l,e=>{e&&a(e),null==o||o()}),w(e,l,n)}return w(e,t,n)},_=(e,t,n)=>{let r=i(e),o={d:(null==r?void 0:r.d)||new Map,e:t};return(n&&b(e,o,n),v(r,o)&&r.d===o.d)?r:(l(e,o),o)},C=(e,t)=>{let n,o;let l=i(e);if(!t&&l&&(r.has(e)||Array.from(l.d).every(([t,n])=>{if(t===e)return!0;let r=C(t);return r===n||h(r,n)})))return l;let s=new Map,f=!0;try{let t=e.read(t=>{if(t===e){let e=i(t);if(e)return s.set(t,e),y(e);if(a(t))return s.set(t,void 0),t.init;throw Error("no atom init")}let n=C(t);return s.set(t,n),y(n)},{get signal(){return n||(n=new AbortController),n.signal},get setSelf(){return u(e)||console.warn("setSelf function cannot be used with read-only atom"),!o&&u(e)&&(o=(...t)=>{if(f&&console.warn("setSelf function cannot be called in sync"),!f)return U(e,...t)}),o}});return k(e,t,s,()=>null==n?void 0:n.abort())}catch(t){return _(e,t,s)}finally{f=!1}},M=e=>{let t=r.get(e);return t||(t=T(e)),t},E=(e,t)=>!t.l.size&&(!t.t.size||1===t.t.size&&t.t.has(e)),x=e=>{let t=r.get(e);t&&E(e,t)&&O(e)},S=e=>{let t=new Map,n=new WeakMap,a=e=>{var t;let n=new Set(null==(t=r.get(e))?void 0:t.t);return o.forEach((t,r)=>{var o;(null==(o=i(r))?void 0:o.d.has(e))&&n.add(r)}),n},u=e=>{a(e).forEach(r=>{r!==e&&(t.set(r,(t.get(r)||new Set).add(e)),n.set(r,(n.get(r)||0)+1),u(r))})};u(e);let l=e=>{a(e).forEach(r=>{var o;if(r!==e){let e=n.get(r);if(e&&n.set(r,--e),!e){let e=!!(null==(o=t.get(r))?void 0:o.size);e&&(e=!h(i(r),C(r,!0))),e||t.forEach(e=>e.delete(r))}l(r)}})};l(e)},A=(t,...n)=>{let r=!0,o=t.write(e=>y(C(e)),(n,...o)=>{let u;if(n===t){if(!a(n))throw Error("atom not writable");h(i(n),k(n,o[0]))||S(n)}else u=A(n,...o);if(!r){let t=I();e.forEach(e=>e({type:"async-write",flushed:t}))}return u},...n);return r=!1,o},U=(t,...n)=>{let r=A(t,...n),o=I();return e.forEach(e=>e({type:"write",flushed:o})),r},T=(e,n,o)=>{var a;let l=o||[];null==(a=i(e))||a.d.forEach((t,n)=>{let o=r.get(n);o?o.t.add(e):n!==e&&T(n,e,l)}),C(e);let s={t:new Set(n&&[n]),l:new Set};if(r.set(e,s),t.add(e),u(e)&&e.onMount){let{onMount:t}=e;l.push(()=>{let n=t((...t)=>U(e,...t));n&&(s.u=n)})}return o||l.forEach(e=>e()),s},O=e=>{var n;let o=null==(n=r.get(e))?void 0:n.u;o&&o(),r.delete(e),t.delete(e);let a=i(e);a?(g(a)&&f(a.v),a.d.forEach((t,n)=>{if(n!==e){let t=r.get(n);t&&(t.t.delete(e),E(n,t)&&O(n))}})):console.warn("[Bug] could not find atom state to unmount",e)},R=(e,t,n)=>{let o=new Set(t.d.keys());null==n||n.forEach((t,n)=>{if(o.has(n)){o.delete(n);return}let i=r.get(n);i&&(i.t.delete(e),E(n,i)&&O(n))}),o.forEach(t=>{let n=r.get(t);n?n.t.add(e):r.has(e)&&T(t,e)})},I=()=>{let e;for(e=new Set;o.size;){let t=Array.from(o);o.clear(),t.forEach(([t,n])=>{let o=i(t);if(o){let i=r.get(t);i&&o.d!==(null==n?void 0:n.d)&&R(t,o,null==n?void 0:n.d),i&&!(!g(n)&&(h(n,o)||v(n,o)))&&(i.l.forEach(e=>e()),e.add(t))}else console.warn("[Bug] no atom state to flush")})}return e};return{get:e=>y(C(e)),set:U,sub:(t,n)=>{let r=M(t),o=I(),i=r.l;return i.add(n),e.forEach(e=>e({type:"sub",flushed:o})),()=>{i.delete(n),x(t),e.forEach(e=>e({type:"unsub"}))}},dev_subscribe_store:(t,n)=>{if(2!==n)throw Error("The current StoreListener revision is 2.");return e.add(t),()=>{e.delete(t)}},dev_get_mounted_atoms:()=>t.values(),dev_get_atom_state:e=>n.get(e),dev_get_mounted:e=>r.get(e),dev_restore_atoms:t=>{for(let[e,n]of t)a(e)&&(k(e,n),S(e));let n=I();e.forEach(e=>e({type:"restore",flushed:n}))}}};"number"==typeof globalThis.__NUMBER_OF_JOTAI_INSTANCES__?++globalThis.__NUMBER_OF_JOTAI_INSTANCES__:globalThis.__NUMBER_OF_JOTAI_INSTANCES__=1;let w=()=>(r||(1!==globalThis.__NUMBER_OF_JOTAI_INSTANCES__&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"),r=b()),r)}}]);