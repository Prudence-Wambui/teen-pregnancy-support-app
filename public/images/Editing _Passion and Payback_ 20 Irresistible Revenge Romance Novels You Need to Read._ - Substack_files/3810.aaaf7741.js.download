"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["3810"],{34505:function(e,t,n){n.d(t,{Z:()=>i});let i={avatar:"avatar-pquTw2",editBadge:"editBadge-UHyRlR",changePhotoButton:"changePhotoButton-nOnlX4"}},66457:function(e,t,n){n.d(t,{Z:()=>i});let i={row:"row-gZz5wu",tab:"tab-ntEFBb"}},80188:function(){},81:function(e,t,n){n.d(t,{J:()=>m});var i=n(16584),a=n(30396),l=n(14293),r=n.n(l),o=n(59543),s=n(70522),c=n(58098),d=n(98914),u=n(19081),h=n(70408),p=n(34505);let m=e=>{let{user:t,onChangePhoto:n}=e,l=(0,a.sO)(null),[m,_]=(0,a.eJ)(null),[b,f]=(0,a.eJ)(null),y=(0,a.Ye)(()=>({transform:(0,d.P_)(b)}),[b]),Z=async()=>{if(!l.current)return;let e=await (0,d.zw)(l.current);if(!e||r()(e.url))return;let t=await (0,c.t)(e.url),i=await (0,d.GL)(t);if(!i)return;let{url:a,orientation:o}=i;_(null!=a?a:null),f(null!=o?o:null),a&&n({photo_url:a})};return(0,i.BX)("button",{className:p.Z.changePhotoButton,onClick:()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.click()},children:[(0,i.tZ)(s.m1,{photo_url:m||(0,h.SM)(t),size:96,style:y,className:p.Z.avatar}),(0,i.tZ)(u.hs,{className:p.Z.editBadge,justifyContent:"center",alignItems:"center",children:(0,i.tZ)(o.Z,{size:20,stroke:"var(--color-fg-primary)"})}),(0,i.tZ)("input",{ref:l,type:"file",name:"photo",accept:"image/*",onChange:Z,style:{display:"none"}})]})}},48928:function(e,t,n){n.d(t,{t:()=>Z});var i=n(16584),a=n(6400),l=n(93783),r=n(95441),o=n(56629),s=n(40647),c=n(30396),d=n(41609),u=n.n(d),h=n(48980),p=n(61254),m=n(96302),_=n(58175),b=n(11280),f=n(98012),y=n(60308);function Z(e){let{publication:t,pub:n,pubId:l,oneClickMode:d,ItemWrapper:p=a.Fragment}=e,{iString:Z}=(0,r.M1)(),{preloadedPubSettings:v}=(0,o.So)(),{getConfigFor:w}=(0,s.xR)(),k=w("use_granular_notification_settings_web"),{pub:x,publication:N,pubSettings:C,didLoad:S,changePubSetting:T,changePubField:B,isLoading:P}=function(e){let{pubId:t,initialPub:n,initialPublication:i,initialPubSettings:a}=e,[l,r]=(0,c.eJ)(!1),[o,s]=(0,c.eJ)(n),[d,p]=(0,c.eJ)(i),[m,_]=(0,c.eJ)(a),[b,f]=(0,c.eJ)(!!o&&!!d&&!u()(null!=m?m:{})),y=async e=>{try{let n=await (0,h.rd)("/api/v1/publication_settings/".concat(t),{method:"PUT",json:e});_(n)}catch(e){console.error(e)}},Z=async e=>{try{let n=await (0,h.rd)("/api/v1/publication/".concat(t,"/notification_setting"),{method:"PUT",json:e});s(n.pub),p(n.publication),_(n.pubSettings)}catch(e){console.error(e)}};return(0,c.d4)(()=>{let e=async()=>{try{r(!0);let e=await (0,h.rd)("/api/v1/publication/".concat(t,"/notification_setting"));s(e.pub),p(e.publication),_(e.pubSettings),r(!1),f(!0)}catch(e){console.error(e),r(!1),f(!0)}};l||b||e()},[b,l,t]),{pub:o,publication:d,pubSettings:m,isLoading:l,didLoad:b,changePubSetting:y,changePubField:Z}}({pubId:l,initialPub:n,initialPublication:t,initialPubSettings:v});if(P||!x||!N||!C||S&&!C)return null;let X=C.streak_emails_enabled||(0,f.Z)(x.created_at)>(0,f.Z)().subtract(6,"month")&&C.writer_streak_feature_enabled;return(0,i.BX)(i.HY,{children:[x.invite_only?(0,i.tZ)(p,{children:(0,i.BX)(b.ZR,{children:[(0,i.tZ)(b.sY,{primaryText:Z("New requests to subscribe"),secondaryText:Z("When someone requests to subscribe to your Substack")}),(0,i.tZ)(m.ZP,{checked:C.subscription_request_emails_enabled,onChange:e=>T({subscription_request_emails_enabled:e})})]})}):null,x.draft_plans&&(0,i.tZ)(p,{children:(0,i.BX)(b.ZR,{children:[(0,i.tZ)(b.sY,{primaryText:Z("New paid subscriber"),secondaryText:Z("When someone pays to subscribe to your Substack")}),(0,i.tZ)(m.ZP,{checked:!x.subscription_event_email_disabled,onChange:e=>B({subscription_event_email_disabled:!e})})]})}),C.payment_pledges_enabled&&!x.draft_plans&&!d&&(0,i.tZ)(p,{children:(0,i.BX)(b.ZR,{children:[(0,i.tZ)(b.sY,{primaryText:Z("New pledged subscription"),secondaryText:Z("When someone pledges a paid subscription to your Substack")}),(0,i.tZ)(m.ZP,{checked:!C.payment_pledge_created_email_disabled,onChange:e=>T({payment_pledge_created_email_disabled:!e})})]})}),(0,i.tZ)(p,{children:(0,i.BX)(b.ZR,{children:[(0,i.tZ)(b.sY,{primaryText:Z("New free subscriber"),secondaryText:Z("When someone subscribes to your Substack for free")}),(0,i.tZ)(m.ZP,{checked:!x.free_signup_event_email_disabled,onChange:e=>B({free_signup_event_email_disabled:!e})})]})}),x.draft_plans&&(0,i.tZ)(p,{children:(0,i.BX)(b.ZR,{children:[(0,i.tZ)(b.sY,{primaryText:Z("Cancelled paid subscription"),secondaryText:Z("When someone cancels their paid subscription")}),(0,i.tZ)(m.ZP,{checked:!x.unsubscription_event_email_disabled,onChange:e=>B({unsubscription_event_email_disabled:!e})})]})}),!d&&(0,i.tZ)(p,{children:(0,i.BX)(b.ZR,{children:[(0,i.tZ)(b.sY,{primaryText:Z("Canceled free subscription"),secondaryText:Z("When someone cancels their free subscription")}),(0,i.tZ)(m.ZP,{checked:!x.email_disabled_event_email_disabled,onChange:e=>B({email_disabled_event_email_disabled:!e})})]})}),(0,i.tZ)(g,{}),!d&&(0,i.tZ)(p,{children:(0,i.BX)(b.ZR,{children:[(0,i.tZ)(b.sY,{primaryText:Z("Likes on your posts"),secondaryText:Z("When someone likes a post you published")}),(0,i.tZ)(m.ZP,{checked:!x.post_reaction_email_disabled,onChange:e=>B({post_reaction_email_disabled:!e})})]})}),!d&&(0,i.tZ)(p,{children:(0,i.BX)(b.ZR,{children:[(0,i.tZ)(b.sY,{primaryText:Z("Comments on your posts"),secondaryText:(0,i.BX)(i.HY,{children:[Z("When someone comments on a post you published.")," ",(0,i.tZ)(_.hh,{decoration:"underline",href:(0,y.tTj)({highlight:k?"comment":"commentNotifications"}),children:Z("Manage replies here")})]})}),(0,i.tZ)(m.ZP,{checked:!x.comment_event_email_disabled,onChange:e=>B({comment_event_email_disabled:!e})})]})}),(0,i.tZ)(p,{children:(0,i.BX)(b.ZR,{children:[(0,i.tZ)(b.sY,{primaryText:Z("Links to your posts"),secondaryText:Z("When someone links to your Substack or a post you published")}),(0,i.tZ)(m.ZP,{checked:N.link_event_email_enabled,onChange:e=>B({link_event_email_enabled:e})})]})}),(0,i.tZ)(p,{children:(0,i.BX)(b.ZR,{id:"enable-restacking-digest-email-link",children:[(0,i.tZ)(b.sY,{primaryText:Z("Cross-posts of your posts"),secondaryText:Z("When someone cross-posts a post you published")}),(0,i.tZ)(m.ZP,{checked:C.enable_restacking_digest_email,onChange:e=>T({enable_restacking_digest_email:e})})]})}),(0,i.tZ)(g,{}),(0,i.tZ)(p,{children:(0,i.BX)(b.ZR,{id:"enable-press-kit-email",children:[(0,i.tZ)(b.sY,{primaryText:Z("Shareable assets for your posts"),secondaryText:Z("Delivers images and video assets for each post you publish")}),(0,i.tZ)(m.ZP,{checked:x.media_assets_email_enabled,onChange:e=>B({media_assets_email_enabled:e})})]})}),(0,i.tZ)(p,{children:(0,i.BX)(b.ZR,{children:[(0,i.tZ)(b.sY,{primaryText:Z("Post stats digests"),secondaryText:Z("Summarizes the performance of each post after 24h")}),(0,i.tZ)(m.ZP,{checked:!x.post_stats_email_disabled,onChange:e=>B({post_stats_email_disabled:!e})})]})}),(0,i.tZ)(p,{children:(0,i.BX)(b.ZR,{children:[(0,i.tZ)(b.sY,{primaryText:Z("Substack stats digests"),secondaryText:Z("Summarizes the performance of your Substack each month")}),(0,i.tZ)(m.ZP,{checked:x.monthly_stats_email_enabled,onChange:e=>B({monthly_stats_email_enabled:e})})]})}),(0,i.tZ)(g,{}),(0,i.tZ)(p,{children:(0,i.BX)(b.ZR,{children:[(0,i.tZ)(b.sY,{primaryText:Z("New milestones"),secondaryText:Z("Tells you when you hit a major growth milestone.")}),(0,i.tZ)(m.ZP,{checked:!x.milestone_email_disabled,onChange:e=>B({milestone_email_disabled:!e})})]})}),X&&(0,i.tZ)(p,{children:(0,i.BX)(b.ZR,{children:[(0,i.tZ)(b.sY,{primaryText:Z("New writing streaks"),secondaryText:Z("Tells you when you hit a streak of frequent publishing.")}),(0,i.tZ)(m.ZP,{checked:C.streak_emails_enabled,onChange:e=>T({streak_emails_enabled:e})})]})}),(0,i.tZ)(p,{children:(0,i.BX)(b.ZR,{children:[(0,i.tZ)(b.sY,{primaryText:Z("Unfinished draft reminders"),secondaryText:Z("Tells you when you start a draft but may have forgotten to publish.")}),(0,i.tZ)(m.ZP,{checked:C.finish_draft_emails,onChange:e=>T({finish_draft_emails:e})})]})}),(0,i.tZ)(p,{children:(0,i.BX)(b.ZR,{children:[(0,i.tZ)(b.sY,{primaryText:Z("Getting started tips"),secondaryText:Z("Suggests ways to finish setting up your Substack.")}),(0,i.tZ)(m.ZP,{checked:!x.drip_email_disabled,onChange:e=>B({drip_email_disabled:!e})})]})}),(0,i.tZ)(g,{}),N.moderation_enabled&&(0,i.tZ)(p,{children:(0,i.BX)(b.ZR,{children:[(0,i.tZ)(b.sY,{primaryText:Z("User reports"),secondaryText:(0,i.BX)(i.HY,{children:[Z("When someone reports problematic content to you.")," ",(0,i.tZ)(_.hh,{decoration:"underline",href:(0,y.QAj)(x),children:Z("Manage reports here")})]})}),(0,i.tZ)(m.ZP,{checked:!x.comment_report_notice_email_disabled,onChange:e=>B({comment_report_notice_email_disabled:!e})})]})})]})}let g=()=>(0,i.tZ)(l.t5,{children:(0,i.tZ)(p.iz,{})})},71753:function(e,t,n){n.d(t,{Z:()=>o});var i=n(7409),a=n(99282),l=n(16584),r=n(64515);let o=e=>(0,l.tZ)(r.l,(0,a._)((0,i._)({name:"AltSimpleCheckmarkIcon",svgParams:{height:20,width:20,stroke:"black"}},e),{children:(0,l.tZ)("path",{d:"M16.6666 5L7.49992 14.1667L3.33325 10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})}))},18787:function(e,t,n){n.d(t,{f1:()=>Y}),n(27412);var i=n(58865),a=n(16584),l=n(30396),r=n(94184),o=n.n(r),s=n(80569),c=n.n(s),d=n(60826),u=n(83034),h=n(12620),p=n(75021);n(93666);var m=n(33665),_=n(12281),b=n(95441),f=n(68833),y=n(98914),Z=n(94874),g=n(15771),v=n(19081),w=n(58175),k=n(24791),x=n(60308),N=n(26111),C=n(23945),S=n(81821),T=n(47929),B=n(71004);function P(){let e=(0,i._)(["Available now for iOS and Android"]);return P=function(){return e},e}function X(){let e=(0,i._)([""," gifted you this paid post. Unlock it in the free Substack app"]);return X=function(){return e},e}function U(){let e=(0,i._)(["Upgrade to ",""]);return U=function(){return e},e}function R(){let e=(0,i._)(["Upgrade to ",""]);return R=function(){return e},e}function F(){let e=(0,i._)(["Already in the "," plan?"]);return F=function(){return e},e}function I(){let e=(0,i._)(["Already in the Founding Member plan?"]);return I=function(){return e},e}let Y=e=>{var t,n,i;let r,{className:s=null,title:d,subtitle:_=null,reauthenticationTitle:g,publication:k,post:B,user:U,freeSignup:R=null,freeSignupEmail:F=null,email_form:I=!1,autoFocus:Y=!1,isStatic:W=!1,coupon:L=null,showPostUnlockPrompt:O=!1,magicToken:z=null,onPostUnlockError:j=null,giftingUser:H=null,treatmentVariantForGiftPostPaywall:J=null}=e,q=null==U?void 0:U.reader_installed_at,{iString:K,iTemplate:G}=(0,b.M1)(),[V,$]=(0,l.eJ)(!1),[Q,ee]=(0,l.eJ)(!1),{modal:et,open:en}=(0,u.useAppModal)({utm_campaign:T.VX.paywallPostUnlockPrompt,utm_source:T.b3.substack,overrideCTA:q?K("Open in app"):void 0,overrideTitle:K(q?"Unlock your free post in the Substack app":"Get the free Substack app to unlock this post"),subTitle:G(P()),openUrl:null!==(t=q&&(0,x.K8_)(k.subdomain,B.slug))&&void 0!==t?t:void 0}),ei=U&&U.email||F||null,ea=!!((null==U?void 0:U.is_subscribed)&&(null==U?void 0:U.is_magic)),el=(null==B?void 0:B.audience)==="founding",er=!!((null==U?void 0:U.is_free_subscribed)||R),eo=(0,x.uRy)(k,B),es=(0,S.tq)({checkFirst4:!0}),ec=(0,l.I4)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,f.j)(f.FP.PAYWALL_UNLOCK_CTA_CLICKED,{post_id:B.id,publication_id:k.id,from_email:e});try{await c().post("/api/v1/post_unlock_token").send({post_id:B.id,token:z}),es?window.location.href=q?(0,x.K8_)(k.subdomain,B.slug,{redirect:"app-store",params:{utm_campaign:T.VX.paywallPostUnlockPrompt,utm_source:T.b3.paywall}}):(0,x.D4e)({utm_campaign:T.VX.paywallPostUnlockPrompt,utm_source:T.b3.paywall}):en()}catch(e){null==j||j()}},[B.id,B.slug,k.id,k.subdomain,z,q,en,j,es]);(0,l.d4)(()=>{O&&(0,f.j)(f.FP.PAYWALL_UNLOCK_CTA_VIEWED,{publication_id:k.id,post_id:B.id})},[B.id,k.id,O]),(0,l.d4)(()=>{(0,N.x)("launch_post_unlock_offer")&&(ec(!0),window.history.replaceState({},document.title,(0,x.rhs)({launch_post_unlock_offer:null})))},[ec]);let ed=!!L&&!!L.id&&!el&&!O;r=ed?K((null==B?void 0:B.type)==="podcast"?"Listen to this episode with a 7-day free trial":(null==B?void 0:B.type)==="video"?"Watch with a 7-day free trial":"Keep reading with a 7-day free trial"):ea?g:d;let eu=async()=>{if(!H){console.warn("tried to claim gift post, but no gifting user");return}if((0,f.j)(f.FP.GIFT_POST_CLAIM_CTA_CLICKED,{post_id:B.id,pub_id:k.id,referring_user_id:H.id,user_id:null==U?void 0:U.id,variant:J,source:"paywall"}),!U){ee(!0);return}$(!0);try{await c().post("/api/v1/post_unlock_token").send({post_id:B.id,gifting_user_id:H.id,email:ei}),(0,y.uX)((0,x.K8_)(k.subdomain,B.slug,{redirect:"app-store",source:T.b3.paywall}))}catch(e){null==j||j()}finally{$(!1)}};return H&&J&&O?(0,a.BX)("div",{role:"region","aria-label":K("Gift post paywall"),children:[Q&&(0,a.tZ)(p.f,{user:U,post:B,pub:k,referringUser:H,freeSignupEmail:null!=F?F:void 0,variant:J,startOnEmailCollection:!0}),(0,a.BX)("div",{className:o()("paywall",s),"data-testid":"paywall","data-component-name":"Paywall",children:[(0,a.tZ)(Z.qE,{photoUrl:null!==(n=H.photo_url)&&void 0!==n?n:void 0,size:64,className:W?"paywall-unlock-avatar-static":"paywall-unlock-avatar"}),(0,a.tZ)(p.E,{style:{position:"absolute",left:"calc(50% + 5px)",top:"5px"},size:24}),(0,a.tZ)(w.xv,{weight:"light",className:o()("paywall-title","unlock-treatment-new"),children:G(X(),(0,C.Q1)(H.name))}),(0,a.tZ)(E,{isStatic:W,onClick:()=>eu(),btnClassName:o()(O&&"paywall-cta-icon"),disabled:V,children:K("Claim my free post")}),er?(0,a.BX)(A,{isStatic:W,publication:k,post:B,postUrl:eo,coupon:L,useCoupon:ed,children:[K("Or upgrade your subscription.")," ",(0,a.tZ)("b",{children:(0,a.tZ)(m.n,{pub:k,user:U,isStatic:!0})})]}):(0,a.tZ)("div",{className:"paywall-login",children:(0,a.BX)("a",{href:(0,x.uXE)({for_pub:k.subdomain,change_user:!!ei}),native:!0,children:[M({post:B,publication:k,isPaid:!I})," ",(0,a.tZ)("b",{children:K(ei?"Switch accounts":"Sign in")})]})})]})]}):(0,a.BX)("div",{className:o()("paywall",s),"data-testid":"paywall","data-component-name":"Paywall",role:"region","aria-label":K("Paywall"),children:[O&&(0,a.tZ)(Z.qE,{photoUrl:null!==(i=k.author_photo_url)&&void 0!==i?i:void 0,size:64,className:W?"paywall-unlock-avatar-static":"paywall-unlock-avatar"}),ei&&!O&&(0,a.BX)(w.xv,{translated:!0,as:"div",className:"paywall-intro",paddingBottom:8*!!O,children:["Hi ",(0,a.tZ)("b",{children:I18N.p(ei)})]}),(0,a.tZ)("h2",{className:o()("paywall-title",O&&"unlock-treatment-new"),children:r}),_&&!ed&&(0,a.tZ)("p",{className:"paywall-subtitle",children:_}),ed&&(0,a.BX)("div",{className:"paywall-free-trial-subtitle",children:[(null==B?void 0:B.type)==="podcast"&&(0,a.BX)(w.xv,{translated:!0,as:"p",className:"paywall-subtitle",children:["Subscribe to"," ",(0,a.tZ)(w.xv,{as:"span",weight:"bold",fontStyle:"italic",children:I18N.p(k.name)})," ","to listen to this post and get 7 days of free access to the full post archives."]}),(null==B?void 0:B.type)==="video"&&(0,a.BX)(w.xv,{translated:!0,as:"p",className:"paywall-subtitle",children:["Subscribe to"," ",(0,a.tZ)(w.xv,{as:"span",weight:"bold",fontStyle:"italic",children:I18N.p(k.name)})," ","to watch this video and get 7 days of free access to the full post archives."]}),(null==B?void 0:B.type)==="newsletter"&&(0,a.BX)(w.xv,{translated:!0,as:"p",className:"paywall-subtitle",children:["Subscribe to"," ",(0,a.tZ)(w.xv,{as:"span",weight:"bold",fontStyle:"italic",children:I18N.p(k.name)})," ","to keep reading this post and get 7 days of free access to the full post archives."]}),(null==B?void 0:B.type)==="adhoc_email"&&(0,a.BX)(w.xv,{translated:!0,as:"p",className:"paywall-subtitle",children:["Subscribe to"," ",(0,a.tZ)(w.xv,{weight:"bold",fontStyle:"italic",children:I18N.p(k.name)})," ","to keep reading this email and get 7 days of free access to the full post archives."]})]}),I?!er&&(0,a.tZ)(v.gq,{paddingTop:24,justifyContent:"center",children:(0,a.tZ)(h.Z,{autoFocus:null==Y||Y,email:ei,freeSignup:R,freeSignupEmail:F,onAccentBackground:!0,pub:k,source:"post-unlock",submitButtonText:K((null==B?void 0:B.type)==="podcast"?"Start listening":(null==B?void 0:B.type)==="video"?"Start watching":"Start reading"),user:U,onSuccess:()=>document.location.reload()})}):O?(0,a.BX)(a.HY,{children:[et,(0,a.tZ)(E,{isStatic:W,onClick:()=>ec(!1),btnClassName:o()(O&&"paywall-cta-icon"),children:K("Claim my free post")})]}):(0,a.tZ)(D,{coupon:L,email:ei,isStatic:W,post:B,postUrl:eo,publication:k,useCoupon:ed,user:U}),O&&(0,a.BX)(A,{isStatic:W,publication:k,post:B,postUrl:eo,coupon:L,useCoupon:ed,children:[K("Or upgrade your subscription.")," ",(0,a.tZ)("b",{children:(0,a.tZ)(m.n,{pub:k,user:U,isStatic:!0})})]}),!ea&&!W&&!O&&(0,a.tZ)("div",{className:"paywall-login",children:(0,a.BX)("a",{href:(0,x.uXE)({for_pub:k.subdomain,change_user:!!ei}),native:!0,children:[M({post:B,publication:k,isPaid:!I})," ",(0,a.tZ)("b",{children:K(ei?"Switch accounts":"Sign in")})]})})]})},D=e=>{var t,n;let{coupon:i,email:l,isStatic:r,post:o,postUrl:s,publication:c,useCoupon:u,user:h}=e,p=!!(null==h?void 0:h.is_founding),_=!!(null==h?void 0:h.is_subscribed),f=!!((null==h?void 0:h.is_subscribed)&&(null==h?void 0:h.is_magic)),y=(null==o?void 0:o.audience)==="founding",{iString:Z,iTemplate:g}=(0,b.M1)();if(r){if(!c.plans)return null;let e=y?d.W.FOUNDING_CHECKOUT_URL:d.W.CHECKOUT_URL,n=u?"&coupon=".concat(null==i?void 0:i.id):"",l=y?g(U(),null!==(t=(0,k.H$)(c))&&void 0!==t?t:""):u?Z("Start trial"):(0,a.tZ)(m.n,{pub:c,user:h,isStatic:r});return(0,a.tZ)(W,{href:"".concat(e,"simple=true&utm_source=").concat(T.b3.paywall,"&utm_medium=").concat(T.lP.email,"&utm_content=").concat(o.id,"&next=").concat(s).concat(n),children:l})}return!p&&y?c.plans?(0,a.tZ)(L,{href:(0,x.Zs0)(c,{simple:!0,next:document.location.href,utm_source:T.b3.paywall,utm_medium:T.lP.web,utm_content:o?o.id:null,plan:"founding"}),children:g(R(),null!==(n=(0,k.H$)(c))&&void 0!==n?n:"")}):null:_?f?(0,a.tZ)(L,{href:(0,x.uXE)({for_pub:c.subdomain,email:l}),children:Z("Click here to sign in")}):null:c.plans?(0,a.tZ)(L,{href:(0,x.Zs0)(c,{simple:!0,next:document.location.href,utm_source:u?T.b3.paywallFreeTrial:T.b3.paywall,utm_medium:r?T.b3.email:T.b3.web,utm_content:o?o.id:null,coupon:u?null==i?void 0:i.id:null}),children:u?Z("Start trial"):(0,a.tZ)(m.n,{pub:c,user:h,isStatic:r})}):null},W=e=>{let{children:t,href:n}=e;return(0,a.tZ)("div",{className:"paywall-cta",children:(0,a.tZ)("a",{className:"button primary subscribe-btn",href:n,children:(0,a.tZ)("span",{children:t})})})},L=e=>{let{children:t,href:n}=e;return(0,a.tZ)("div",{className:"paywall-cta",children:(0,a.tZ)("a",{href:n,native:!0,children:(0,a.tZ)(g.kG,{resetCss:!0,className:o()("subscribe-btn",B.Z.subscribeButton),children:t})})})},A=e=>{let{post:t,isStatic:n,publication:i,onClick:l,children:r,postUrl:o,coupon:s,useCoupon:c}=e,d=(0,x.Zs0)(i,{simple:!0,next:document.location.href,utm_source:T.b3.paywall,utm_medium:n?T.lP.email:T.lP.web,utm_content:t?t.id:null,just_signed_up:!1});l=async()=>{window.location.href=d};let u=c?"&coupon=".concat(null==s?void 0:s.id):"",h="".concat(d,"simple=true&utm_source=").concat(T.b3.paywall,"&utm_medium=").concat(T.lP.email,"&utm_content=").concat(t.id,"&next=").concat(o).concat(u);return n?(0,a.tZ)(O,{href:h,children:r}):(0,a.tZ)(z,{onClick:l,href:h,children:r})},O=e=>{let{children:t,href:n}=e;return(0,a.tZ)("div",{className:"paywall-secondary-cta",children:(0,a.tZ)("a",{href:n,children:t})})},z=e=>{let{children:t,href:n,onClick:i}=e;return(0,a.tZ)("div",{className:"paywall-secondary-cta",children:(0,a.tZ)("a",{onClick:i,href:n,native:!0,children:t})})},E=e=>{let{isStatic:t,onClick:n,children:i,btnClassName:l,disabled:r}=e;return t?(0,a.tZ)("div",{className:"paywall-cta",children:(0,a.tZ)("a",{className:o()("button","primary",l),href:"".concat(d.W.POST_URL,"&launch_post_unlock_offer=true"),children:i})}):(0,a.tZ)("div",{className:"paywall-cta",children:(0,a.tZ)("a",{onClick:n,native:!0,children:(0,a.tZ)(g.kG,{resetCss:!0,className:o()("subscribe-btn",l),disabled:r,children:i})})})};function M(){let{post:e,publication:t,isPaid:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{iString:i,iTemplate:a}=I18N.i(t?{pub:t}:"en");if(!n)return i("Already a subscriber?");if((null==e?void 0:e.audience)==="founding"){var l;return(0,k.H$)(t)?a(F(),null!==(l=(0,k.H$)(t))&&void 0!==l?l:""):a(I())}return i("Already a paid subscriber?")}_.Z},58098:function(e,t,n){n.d(t,{t:()=>r});var i=n(7409),a=n(99282),l=n(39556);async function r(e){return(0,l.O)(e,{imageCropAspectRatio:1,cropSelectPresetOptions:void 0,willRenderCanvas:(e,t)=>{let{utilVisibility:n,selectionRect:l,lineColor:r,backgroundColor:o}=t;if(n.crop<=0)return e;let{x:s,y:c,width:d,height:u}=l;return(0,a._)((0,i._)({},e),{interfaceShapes:[{x:s+.5*d,y:c+.5*u,rx:.5*d,ry:.5*u,opacity:n.crop,inverted:!0,backgroundColor:[...o,.5],strokeWidth:1,strokeColor:[...r]},...e.interfaceShapes]})}})}},56415:function(e,t,n){n.d(t,{Z:()=>o});var i=n(30396),a=n(80569),l=n.n(a),r=n(60308);let o=function(e,t){let{dataKey:n="rows",totalKey:a="total",loadingDelay:o=150}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[s,c]=(0,i.eJ)([]),[d,u]=(0,i.eJ)(!0),[h,p]=(0,i.eJ)(!1),[m,_]=(0,i.eJ)(0),b=(0,r.rhs)(e,t),f=async function(){let{reset:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=setTimeout(()=>{u(!0)},o);p(!1);try{let i=await l().get(b);return c([...e?[]:s,...i.body[n]]),_(i.body[a]),clearTimeout(t)}catch(e){return console.error(e),p(!0),clearTimeout(t)}finally{u(!1)}};return(0,i.d4)(()=>{f({reset:0===t.offset})},[e,t.offset,t.order_by,t.order_direction]),{rows:s,total:m,loading:d,error:h}}},98248:function(e,t,n){n.d(t,{$j:()=>p,Hl:()=>_,jv:()=>m,uk:()=>b});var i=n(7409),a=n(99282),l=n(98848),r=n(16584),o=n(94184),s=n.n(o);n(98661);var c=n(71068),d=n(19081),u=n(49391);let h={14:2,20:2.5,24:2,32:1.5,40:1.25},p=e=>{var{size:t=24,theme:n="default",className:o}=e,c=(0,l._)(e,["size","theme","className"]);let p=h[t]||2;return(0,r.tZ)(d.hs,(0,a._)((0,i._)({padding:16,className:s()(u.Z.spinner,u.Z["theme_".concat(n)],o)},c),{children:(0,r.BX)("svg",{width:t,height:t,viewBox:"0 0 24 24","vector-effect":"non-scaling-stroke",children:[(0,r.tZ)("circle",{className:u.Z.bg,cx:12,cy:12,r:11,strokeWidth:p,fill:"none",stroke:"var(--color-utility-detail)"}),(0,r.tZ)("circle",{className:u.Z.fg,cx:12,cy:12,r:11,strokeWidth:p,fill:"none"})]})}))},m=e=>{var{size:t=24,theme:n="default",className:o}=e,c=(0,l._)(e,["size","theme","className"]);let h=Array.from({length:10},(e,t)=>"".concat(36*t," 12 12")).join(";");return(0,r.tZ)(d.hs,(0,a._)((0,i._)({padding:16,className:s()(u.Z.thinker,u.Z["theme_".concat(n)],o)},c),{children:(0,r.tZ)("svg",{width:t,height:t,viewBox:"0 0 24 24",children:(0,r.BX)("g",{children:[Array.from({length:10}).map((e,t)=>(0,r.tZ)("rect",{x:"11",y:"1",width:2,height:6,rx:"1",ry:"1",opacity:(t+1)/10,transform:"rotate(".concat(36*t," 12 12)")},t)),(0,r.tZ)("animateTransform",{attributeName:"transform",type:"rotate",calcMode:"discrete",dur:"0.5s",values:h,repeatCount:"indefinite"})]})})}))},_=e=>{var{size:t=24,theme:n="default",className:o,percent:c}=e,p=(0,l._)(e,["size","theme","className","percent"]);let m=h[t]||2;return(0,r.tZ)(d.hs,(0,a._)((0,i._)({padding:16,className:s()(u.Z.radialProgress,u.Z["theme_".concat(n)],o),style:{"--percent":"".concat(c)}},p),{children:(0,r.BX)("svg",{width:t,height:t,viewBox:"0 0 24 24","vector-effect":"non-scaling-stroke",children:[(0,r.tZ)("circle",{className:u.Z.bg,cx:12,cy:12,r:11,strokeWidth:m,fill:"none",stroke:"var(--color-utility-detail)"}),(0,r.tZ)("circle",{className:u.Z.fg,cx:12,cy:12,r:11,strokeWidth:m,fill:"none"})]})}))},b=e=>{var{height:t=4,theme:n="default",className:o,percent:h}=e,p=(0,l._)(e,["height","theme","className","percent"]);return(0,r.tZ)(d.X2,(0,a._)((0,i._)({radius:"full",overflow:"hidden",position:"relative",className:s()(u.Z.linearProgress,u.Z["theme_".concat(n)],o),style:{"--height":"".concat(t,"px"),"--percent":"".concat(h)}},p),{children:(0,r.tZ)(c.xu,{position:"absolute",radius:"full",className:u.Z.linearProgressFill})}))}},9497:function(e,t,n){n.d(t,{_:()=>b});var i=n(7409),a=n(99282),l=n(98848),r=n(16584),o=n(49550),s=n(98661),c=n(95441),d=n(15771),u=n(80026),h=n(17172),p=n(45783),m=n(91400),_=n(66457);function b(e){var{tabs:t,value:n,onChange:d,priority:b="secondary",ariaLabel:y}=e,Z=(0,l._)(e,["tabs","value","onChange","priority","ariaLabel"]);let g=(0,s.useRef)(null),v=(0,m.XA)(),{iString:w}=(0,c.M1)(),{props:k,hasOverflow:x}=(0,h.aZ)(g),{state:N,handleArrowClick:C}=(0,p.eK)(g),S=t.findIndex(e=>e.value===n);return(0,r.tZ)(u.sg,(0,a._)((0,i._)({position:"relative"},Z),{children:(0,r.tZ)(o.O.Group,{manual:!0,selectedIndex:-1===S?0:S,onChange:e=>{var n;let i=null===(n=t[e])||void 0===n?void 0:n.value;void 0!==i&&d(i)},children:(0,r.BX)(u.X2,{position:"relative",pullX:4,pullY:4,overflow:"hidden",children:[!v&&(0,r.tZ)(p.nD,{direction:"left",isVisible:N.showLeft,onClick:C(-1)}),(0,r.tZ)(o.O.List,(0,a._)((0,i._)({as:u.X2,gap:8,padding:4,minWidth:0,cursor:x()?"grab":"default",flex:"grow",overflowX:x()?"auto":void 0,className:_.Z.row},k),{ref:g,"aria-label":null!=y?y:"".concat(w("Tabs")),children:()=>(0,r.tZ)(r.HY,{children:t.map((e,t)=>(0,r.tZ)(f,{tab:e,index:t,priority:b,children:e.label},e.value))})})),!v&&(0,r.tZ)(p.nD,{direction:"right",isVisible:N.showRight,onClick:C(1)})]})})}))}function f(e){let{tab:t,index:n,children:i,priority:a}=e;return(0,r.tZ)(o.O,{as:s.Fragment,children:e=>{let{selected:l}=e;return(0,r.tZ)(d.zx,{size:"sm",priority:l?"primary-mono":a,leading:t.leadingIcon,trailing:t.trailingIcon,className:_.Z.tab,children:i},n)}})}},57989:function(e,t,n){n.d(t,{G:()=>m});var i=n(16584),a=n(94184),l=n.n(a),r=n(86374),o=n(20888),s=n(95441),c=n(71068),d=n(15771),u=n(19081),h=n(44424),p=n(58175);function m(e){var t,n,a;let{value:m,options:_,onChange:b,disabled:f,className:y,buttonClassName:Z,priority:g,placeholder:v}=e,{iString:w}=(0,s.M1)();return(0,i.tZ)(h.v2,{className:y,trigger:(0,i.tZ)(d.zx,{priority:null!=g?g:"secondary-outline",disabled:f,trailing:(0,i.tZ)(r.Z,{}),"data-testid":"stock-select",className:l()("simpleSelectButton-zv9jSS",Z),children:(0,i.tZ)(p.xv.B3,{weight:"regular",children:null!==(a=null!==(n=null===(t=_.find(e=>e.value===m))||void 0===t?void 0:t.label)&&void 0!==n?n:v)&&void 0!==a?a:w("Select")})}),children:_.map(e=>(0,i.tZ)(h.sN,{onClick:()=>b(e.value),children:(0,i.BX)(u.X2,{gap:8,alignItems:"center",children:[e.image_url&&(0,i.tZ)(c.xu,{width:48,radius:"sm",overflow:"hidden",children:(0,i.tZ)(o.e,{maxWidth:48,useRetinaSizing:!0,imageIsFixedWidth:!0,src:e.image_url,alt:e.label})}),(0,i.BX)(u.sg,{gap:2,children:[(0,i.tZ)(p.xv.B3,{children:e.label}),e.description&&(0,i.tZ)(p.xv.B4,{color:"secondary",children:e.description})]})]})}))})}},76641:function(e,t,n){n.d(t,{L:()=>o,N:()=>r});var i=n(14293),a=n.n(i),l=n(84864);let r="-",o=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD",i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"en-US",c="tag"===o&&Math.abs(e||0)>.01?0:2,d="tag"===o?"0m":r;if(a()(e)||!isFinite(e)||0===e)switch(t){case"percent":return"tag"===o?"0%":r;case"duration":return d;default:return r}switch(t){case"number":return new Intl.NumberFormat(s,{maximumFractionDigits:0}).format(e);case"number-truncated":return new Intl.NumberFormat(s,{notation:"compact",compactDisplay:"short",maximumSignificantDigits:3}).format(e).toUpperCase();case"dollar":return new Intl.NumberFormat(s,{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);case"dollar-truncated":return new Intl.NumberFormat(s,{style:"currency",currency:"USD",notation:"compact",compactDisplay:"short",maximumSignificantDigits:3}).format(e).toUpperCase();case"currency":{let t=new Intl.NumberFormat(s,{style:"currency",currency:n,minimumFractionDigits:0,maximumFractionDigits:0});return i?(0,l.centsToPriceString)(e,n):t.format(e)}case"currency-truncated":{let t=new Intl.NumberFormat(s,{style:"currency",currency:n,notation:"compact",compactDisplay:"short",maximumSignificantDigits:3});return(i?t.format(e/100):t.format(e)).toUpperCase()}case"percent":return new Intl.NumberFormat(s,{style:"percent",minimumFractionDigits:c,maximumFractionDigits:c}).format(e);case"duration":{let t=Math.floor(e/1e3),n=Math.floor(t/3600),i=Math.floor(t%3600/60),a=new Intl.NumberFormat(s,{style:"unit",unit:"hour",unitDisplay:"narrow"}),l=new Intl.NumberFormat(s,{style:"unit",unit:"minute",unitDisplay:"narrow"});if(n>0)return"".concat(a.format(n)).concat(i>0?" ".concat(l.format(i)):"");return l.format(i)}default:return d}}},49949:function(e,t,n){n.d(t,{Z:()=>a});var i=n(16584);let a=e=>{let{children:t}=e;return(0,i.tZ)("div",{className:"data-module",children:t})}},70125:function(e,t,n){n.d(t,{y:()=>a});var i=n(63018);function a(e,t){let{auto:n,onReceive:a}=t;return(0,i._I)("/api/v1/link-metadata",{query:{url:null!=e?e:""},auto:!!(e&&n),deps:[e],shouldRevalidate:!1,massage:async e=>(null==a||a(e),e)},{shouldRetryOnError:e=>404!==e.response.status})}}}]);